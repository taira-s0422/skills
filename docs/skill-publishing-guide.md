# Claude Skill 公開作成ガイドライン

Claude Code スキルを GitHub で公開する際のルール・ベストプラクティスをまとめたドキュメント。

---

## 1. ライセンスと公開ルール

### 公開してよいもの

| 対象 | ライセンス | 公開 |
|------|-----------|------|
| 自作スキル | 自由に選択可能 | OK |
| `/examples/` の派生物 | Apache 2.0準拠 | OK |
| `/public/` の内容 | Anthropic独占・抽出禁止 | NG |

### 絶対にやってはいけないこと

- `/mnt/skills/public/` 配下のファイル（SKILL.md, scripts/, テンプレート等）をコピー・転載・流用して公開
- 公式スキルのコードを少し改変しただけで自作と称して公開
- 同梱する外部リソース（フォント、ライブラリ等）のライセンスを確認せずに公開

### 推奨ライセンス

- **MIT** → シンプルで広く使ってほしい場合
- **Apache 2.0** → examplesスキルの派生物、特許条項が必要な場合
- **CC BY 4.0** → ドキュメント中心のスキル（コード少なめ）

---

## 2. ディレクトリ構成

### 基本構成（最小）

```
├── SKILL.md              # 必須：スキル本体
└── LICENSE               # 必須：ライセンス
```

### 標準構成（推奨）

```
├── SKILL.md              # 必須：スキル本体
├── LICENSE               # 必須：ライセンス
├── README.md             # 推奨：人間向け説明（GitHub用）
├── scripts/              # 任意：自動実行スクリプト
├── references/           # 任意：Claude参照用追加ドキュメント
└── assets/               # 任意：テンプレート、フォント等
```

### 各ディレクトリの役割

- **scripts/** → 決定論的・反復タスクの実行コード（実行のみでコンテキストに読み込まず実行可能）
- **references/** → 追加の知識・ガイド（必要時にSKILL.mdの指示で読み込み）
- **assets/** → テンプレート、フォント等の出力用素材
- **evals/** → テスト用プロンプトと期待出力（評価時のみ）

---

## 3. SKILL.md の書き方

### フロントマター（YAML）— 必須

```yaml
---
name: my-skill-name
description: >
  このスキルの説明。何をするか＋いつトリガーすべきか。
  「〇〇を作成」「△△を生成」などのリクエストで起動。
  関連キーワードが出てきたら積極的にこのスキルを使うこと。
---
```

- **name** — スキルのID（英数字とハイフン）【必須】
- **description** — トリガー条件を含む説明文【必須】
- **compatibility** — 必要なツールや依存関係【任意】

### description の書き方（重要）

Claude はスキルを「使わない」方向に偏りがちなため、やや積極的（pushy）に書くのがベストプラクティス。

- **悪い例:** `議事録を作成するスキル。`
- **良い例:** `会議の議事録・ミーティングノートを自動生成するスキル。「議事録」「会議メモ」「ミーティングノート」「打ち合わせ記録」「会議の要約」などのリクエストで起動。録音テキストや箇条書きメモから構造化された議事録を作成する場合にも使用すること。`

### 本文の書き方ガイド

**やるべきこと:**
- 命令形で書く（「〜すること」「〜を実行する」）
- WHYを説明する（なぜその処理が必要かをClaudeに理解させる）
- 具体的な例を含める（Input/Outputのペア）
- 500行以内を目指す（超える場合はreferencesに分割）
- 大きなreferenceファイルには目次をつける（300行超の場合）

**やってはいけないこと:**
- README.md、CHANGELOG.md等の人間向けドキュメントをスキル内に含めない
- 「MUST」「NEVER」「ALWAYS」の多用を避ける（理由を説明して理解させる方が効果的）
- 特定の例だけに過度に最適化しない（汎用性を意識）

### 本文の構成テンプレート

```markdown
# スキル名
概要を1-2行で。

## ワークフロー
全体の処理フローを簡潔に記述。

## 処理ルール
具体的な指示を命令形で。例を添えて。

## 出力フォーマット
テンプレートをここに。

## referenceファイルの参照指示
いつ・どのファイルを読むべきかの指示。

## スクリプト利用
スクリプトの実行方法。
```

---

## 4. 同梱リソースのガイドライン

### scripts/

- **推奨:** Python, Bash, Node.js / 標準ライブラリのみで動作 / シバン行付き
- **非推奨:** コンパイル必要なバイナリ / 大量のnpm/pip依存 / OS固有コマンド
- 依存関係がある場合は `requirements.txt` や `package.json` を同梱し、SKILL.md内にインストール手順を記載

### references/

- Claudeがコンテキストに読み込む追加ドキュメント
- ドメイン別に分割すると効率的
- SKILL.mdから「いつ・どのファイルを読むべきか」を明示

### assets/

- テンプレート、フォント、画像など
- 外部リソースには必ず個別のライセンスファイルを同梱
- フォント：OFL（Open Font License）等を一緒に入れる

---

## 5. GitHub公開時の構成

### 単一スキルのリポジトリ

```
├── README.md       # GitHub向け説明
├── LICENSE
├── SKILL.md
├── scripts/
├── references/
└── assets/
```

### 複数スキルのリポジトリ

```
├── README.md
├── LICENSE
├── skill-a/
│   ├── SKILL.md
│   └── scripts/
├── skill-b/
│   ├── SKILL.md
│   └── assets/
└── skill-c/
    └── SKILL.md
```

### README.md に書くべき内容

- 概要（何をするか）
- インストール方法
- 使い方（Claudeへの話しかけ方の例）
- スクリーンショット/デモ（あると効果的）
- ライセンス表記

---

## 6. .skill パッケージ

`.skill` ファイルはスキルフォルダをZIP圧縮したもの。Claude.ai にインポートできる配布形式。

```bash
zip -r ../my-skill.skill . -x ".*" "__pycache__/*" "*-workspace/*"
```

- フォルダの中身だけを入れる（フォルダ自体をルートにしない）
- 不要ファイル（.DS_Store等）を除外
- GitHubのReleasesに `.skill` を添付すると利用者に親切

---

## 7. 公開前チェックリスト

### 構造

- [ ] SKILL.mdにYAMLフロントマター（name, description）がある
- [ ] descriptionにトリガー条件が明記されている
- [ ] LICENSEファイルがある
- [ ] 同梱リソースの個別ライセンスがある（該当する場合）

### 内容

- [ ] SKILL.mdが500行以内（超える場合はreferencesに分割済み）
- [ ] 命令形で書かれている
- [ ] WHY（なぜその処理が必要か）が説明されている
- [ ] 具体的な例（Input/Output）が含まれている
- [ ] スクリプトがある場合、依存関係が明記されている

### ライセンス

- [ ] `/mnt/skills/public/` のコードを流用していない
- [ ] examplesスキルの派生物ならApache 2.0に準拠
- [ ] 同梱フォント・画像等の個別ライセンスを確認済み

### GitHub公開

- [ ] README.mdに使い方が書かれている
- [ ] .gitignoreが設定されている
- [ ] 秘密情報（APIキー、個人情報等）が含まれていない
- [ ] .skillファイルをReleasesに添付（任意）

---

## 8. Progressive Disclosure（段階的開示）

Claudeのスキル読み込みは3段階。これを理解してスキルを設計することが重要。

| レベル | 対象 | タイミング | サイズ目安 |
|--------|------|-----------|-----------|
| 1. メタデータ | name + description | 常時コンテキストに存在 | 〜100語 |
| 2. SKILL.md本文 | 指示・ルール | スキルがトリガーされた時 | 〜500行 |
| 3. 同梱リソース | references等 | SKILL.mdの指示で必要時 | 制限なし |

SKILL.mdには「いつ・何を読むべきか」のポインタを置き、詳細は `references/` に分離するのがベストプラクティス。
